# üìò –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≤–∏–¥–∂–µ—Ç–æ–≤ –¥–ª—è –ø–ª–µ–µ—Ä–∞ Screon
---

## üß∞ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### Android Studio

- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Android Studio** (–ø–æ—Å–ª–µ–¥–Ω—é—é —Å—Ç–∞–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é).
- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–æ–≥–ª–∞—Å–∏—Ç–µ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Android SDK.
- –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ GIT –∏–ª–∏ —á–µ—Ä–µ–∑ **File ‚Üí Open‚Ä¶**, —É–∫–∞–∑–∞–≤ –ø–∞–ø–∫—É —Å `build.gradle.kts` / `settings.gradle.kts`.
- –†–∞–±–æ—Ç–∞–π—Ç–µ –≤ —Å–≤–æ–µ–π –≤–µ—Ç–∫–µ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –≤–∏–¥–∂–µ—Ç–∞.

### –≠–º—É–ª—è—Ç–æ—Ä Android TV / Android

- –û—Ç–∫—Ä–æ–π—Ç–µ **Tools ‚Üí Device Manager**.
- –ù–∞–∂–º–∏—Ç–µ **Create Device‚Ä¶**.
- –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å **Android TV**.
- –í—ã–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑ Android (–ú–æ–∂–Ω–æ –≤–∑—è—Ç—å API 36 –∏–ª–∏ –ª—é–±—É—é 26+).
- –°–æ–∑–¥–∞–π—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ.

–≠–º—É–ª—è—Ç–æ—Ä–∞ –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –≤–∏–¥–∂–µ—Ç–æ–≤.

---

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Kotlin Multiplatform + Compose Multiplatform**.  
–ö–æ–¥ —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞:

- **–æ–±—â–∏–π –º–æ–¥—É–ª—å** (`commonMain`) ‚Äî –ª–æ–≥–∏–∫–∞ –∏ UI –≤–∏–¥–∂–µ—Ç–æ–≤,
- **–∞–Ω–¥—Ä–æ–∏–¥-–º–æ–¥—É–ª—å** (`androidMain`) ‚Äî –∫–æ–¥, –∑–∞–≤—è–∑–∞–Ω–Ω—ã–π –Ω–∞ Android (Activity, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è, —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ —Ç.–ø.).

### –û–±—â–∏–π –º–æ–¥—É–ª—å (`commonMain`)

–ü—É—Ç—å:
```text
src/commonMain/kotlin/videoTrade/screonPlayer/app/
```

–ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥—è—Ç—Å—è:

- –∫–æ—Ä–Ω–µ–≤–æ–π UI (`App.kt`);
- –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ:
  ```kotlin
  enum class WidgetType { CLOCK, COUNTDOWN, WEATHER /* + –≤–∞—à–∏ */ }

  data class WidgetLayout(
      val position: WidgetPosition,
      val marginDp: Int = 8,
      val widthFraction: Float? = null,
      val heightFraction: Float? = null
  )

  data class WidgetDescriptor(
      val id: String,
      val type: WidgetType,
      val layout: WidgetLayout,
      val payload: Map<String, String> = emptyMap()
  )
  ```
- –≤–∏–¥–∂–µ—Ç—ã:
  ```text
  src/commonMain/kotlin/videoTrade/screonPlayer/app/presentation/components/widgets/
    ‚îú‚îÄ WeatherWidget.kt
    ‚îî‚îÄ WidgetsOverlay.kt
  ```
- –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–∏–¥–∂–µ—Ç–∞–º–∏.

üëâ **–û—Å–Ω–æ–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏–º–µ–Ω–Ω–æ –≤ –æ–±—â–µ–º –º–æ–¥—É–ª–µ.**

### –ê–Ω–¥—Ä–æ–∏–¥-–º–æ–¥—É–ª—å (`androidMain`)

–ü—É—Ç—å:
```text
src/androidMain/kotlin/videoTrade/screonPlayer/app/
```

–ó–¥–µ—Å—å –Ω–∞—Ö–æ–¥—è—Ç—Å—è:

- `AppActivity` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
  ```kotlin
  class AppActivity : ComponentActivity() {
      override fun onCreate(savedInstanceState: Bundle?) {
          super.onCreate(savedInstanceState)
          // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫–Ω–∞, DI, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏ —Ç.–¥.
          setContent { App() } // –≤—ã–∑—ã–≤–∞–µ—Ç –æ–±—â–∏–π Composable –∏–∑ commonMain
      }
  }
  ```
- –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Android API:
  - –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (–∫–∞–º–µ—Ä–∞, –º–∏–∫—Ä–æ—Ñ–æ–Ω, –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ),
  - —Å–µ—Ç–µ–≤—ã–µ –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.

üëâ –¢—Ä–æ–≥–∞—Ç—å –º–æ–¥—É–ª—å —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –Ω–µ –ø—Ä–∏–¥—ë—Ç—Å—è, **–∫—Ä–æ–º–µ —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –≤–∏–¥–∂–µ—Ç —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–æ–≥–æ Android‚Äë—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞** (—Å–º. —Ä–∞–∑–¥–µ–ª ¬´–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–ø–∏—Å–∞—Ç—å Android‚Äë–º–æ–¥—É–ª—å¬ª –Ω–∏–∂–µ).

---

## üéØ –ó–∞–¥–∞–Ω–∏–µ

–°–æ–∑–¥–∞—Ç—å –≤–∏–¥–∂–µ—Ç –ø–æ —Å–ª–µ–¥—É—é—â–∏–º –ø—Ä–∞–≤–∏–ª–∞–º:

- –≤–∏–¥–∂–µ—Ç –ø–æ–ª—É—á–∞–µ—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ `payload: Map<String, String>` (–Ω–∞–∑–≤–∞–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º–∏, –ª–æ–≥–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–æ–¥—è—â–∏–º–∏ –ø–æ–¥ —Ç–µ–º–∞—Ç–∏–∫—É –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤–∏–¥–∂–µ—Ç–∞);
- –µ—Å–ª–∏ –∫–∞–∫–∏—Ö-—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–π –Ω–µ—Ç –≤ `payload`, –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **—Ä–∞–∑—É–º–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ—Å—Ç–æ–π —Ç–µ–∫—Å—Ç, —Ç–µ–∫—É—â–∏–µ –≤—Ä–µ–º—è/–¥–∞—Ç—É, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã);
- UI –ø–∏—à–µ—Ç—Å—è –Ω–∞ **Jetpack Compose Multiplatform**;
- —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Å—Ç–∏–ª—å –∫–æ–¥–∞ –±–µ—Ä—É—Ç—Å—è –ø–æ –æ–±—Ä–∞–∑—Ü—É **WeatherWidget**.

–í–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã ‚Äî –ø—Ä–∏–º–µ—Ä –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π:

- —á–∏—Ç–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `payload` (`city`, `latitude`, `longitude`);
- –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–µ–ª–∞–µ—Ç HTTP‚Äë–∑–∞–ø—Ä–æ—Å –∫ –≤–Ω–µ—à–Ω–µ–º—É API;
- –≤—ã–≤–æ–¥–∏—Ç –∫—Ä–∞—Å–∏–≤—ã–π UI.

---

## üß± –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω—ã –≤–∏–¥–∂–µ—Ç—ã

### WidgetDescriptor

–û–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–∏–¥–∂–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –æ—Ç—Ä–∏—Å–æ–≤–∞—Ç—å:

```kotlin
data class WidgetDescriptor(
    val id: String,
    val type: WidgetType,
    val layout: WidgetLayout,
    val payload: Map<String, String> = emptyMap()
)
```

–ü—Ä–∏–º–µ—Ä—ã –∑–Ω–∞—á–µ–Ω–∏–π `payload` (–≤ JSON‚Äë–≤–∏–¥–µ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è):

```json
{
  "title": "–ê–∫—Ü–∏—è –¥–Ω—è",
  "subtitle": "–°–∫–∏–¥–∫–∞ 20 %",
  "color": "#FF0000"
}
```

### WidgetLayout –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–†–∞–∑–º–µ—â–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞ –∑–∞–¥–∞—ë—Ç—Å—è –≤ `WidgetLayout`:

```kotlin
WidgetLayout(
    position = WidgetPosition.TOP_RIGHT,
    marginDp = 8
)
```

–í `WidgetsOverlay` –ø–æ–∑–∏—Ü–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç—Å—è –∏ –≤–∏–¥–∂–µ—Ç –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è –ø–æ —ç–∫—Ä–∞–Ω—É:

```kotlin
when (widget.layout.position) {
    WidgetPosition.TOP_LEFT    -> baseModifier.align(Alignment.TopStart)
    WidgetPosition.TOP_RIGHT   -> baseModifier.align(Alignment.TopEnd)
    WidgetPosition.BOTTOM_LEFT -> baseModifier.align(Alignment.BottomStart)
    WidgetPosition.BOTTOM_RIGHT-> baseModifier.align(Alignment.BottomEnd)
    WidgetPosition.CENTER      -> baseModifier.align(Alignment.Center)
    // –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã (TOP, BOTTOM –∏ —Ç.–¥. ‚Äî –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–µ–≥—É—â–∏—Ö —Å—Ç—Ä–æ–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä)
}
```

### WidgetsOverlay ‚Äî –º–µ—Å—Ç–æ, –≥–¥–µ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤—Å–µ –≤–∏–¥–∂–µ—Ç—ã

–§–∞–π–ª:
```text
src/commonMain/kotlin/videoTrade/screonPlayer/app/presentation/components/widgets/WidgetsOverlay.kt
```

–ò–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å –Ω–∞ –æ—Å–Ω–æ–≤–µ `WidgetType` –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è, –∫–∞–∫–æ–π Composable –≤—ã–∑–≤–∞—Ç—å:

```kotlin
when (widget.type) {
    WidgetType.WEATHER -> WeatherWidget(widget, alignedModifier)
    // —Å—é–¥–∞ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –Ω–æ–≤—ã–µ –≤–∏–¥–∂–µ—Ç—ã:
    // WidgetType.CLOCK   -> ClockWidget(widget, alignedModifier)
}
```

---

## üß© –ì–¥–µ –ø–∏—Å–∞—Ç—å —Å–≤–æ–π –≤–∏–¥–∂–µ—Ç

–ü–∞–ø–∫–∞ –¥–ª—è –≤–∏–¥–∂–µ—Ç–æ–≤:
```text
src/commonMain/kotlin/videoTrade/screonPlayer/app/presentation/components/widgets/
```

–ù—É–∂–Ω–æ:

- –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –≤ `WidgetType` (–≤ –¥–æ–º–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏ –≤–∏–¥–∂–µ—Ç–æ–≤);
- —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `MyWidget.kt` —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π Composable;
- –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ—Ç –≤–∏–¥–∂–µ—Ç –≤ `WidgetsOverlay.kt`.

---

## üí° –ü—Ä–∏–Ω—Ü–∏–ø –Ω–∞–ø–∏—Å–∞–Ω–∏—è –≤–∏–¥–∂–µ—Ç–∞ (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ø–æ–≥–æ–¥—ã)

–°–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª `WeatherWidget.kt`:

```kotlin
@Composable
fun WeatherWidget(
    descriptor: WidgetDescriptor,
    modifier: Modifier = Modifier
) {
    // 1. –ß–∏—Ç–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ payload
    val payloadCityName = descriptor.payload["city"] ?: "–ì–æ—Ä–æ–¥ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"

    // –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
    // val payloadLatitude = descriptor.payload["lat"]?.toDoubleOrNull()
    // val payloadLongitude = descriptor.payload["lon"]?.toDoubleOrNull()

    // 2. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
    var temperatureText by remember { mutableStateOf("--¬∞") }
    var descriptionText by remember { mutableStateOf("–ó–∞–≥—Ä—É–∑–∫–∞...") }

    // 3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ (—Å–µ—Ç–µ–≤–æ–π –∑–∞–ø—Ä–æ—Å –∏ —Ç.–ø.)
    LaunchedEffect(descriptor.id) {
        // –ó–¥–µ—Å—å –≤ –ø—Ä–∏–º–µ—Ä–µ –≤–∏–¥–∂–µ—Ç–∞ –ø–æ–≥–æ–¥—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Ktor-–∫–ª–∏–µ–Ω—Ç
        // –∏ JSON-—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è.
    }

    // 4. UI
    Surface(
        modifier = modifier,
        shape = RoundedCornerShape(12.dp),
        color = Color.Transparent
    ) {
        // –í–Ω—É—Ç—Ä–∏ ‚Äî Box/Row/Column, Text, –∏ —Ç.–¥.
        // –°–º. —Ä–µ–∞–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é WeatherWidget.kt –∫–∞–∫ –ø–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–∏–º–µ—Ä.
    }
}
```

–û–±—â–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –ª—é–±–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞:

- —á–∏—Ç–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ `descriptor.payload["–∫–ª—é—á"]`;
- –µ—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–µ—Ç ‚Äî –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç (–ª–æ–∫–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏, –≥–µ–æ–ø–æ–∑–∏—Ü–∏–∏ –∏ —Ç.–¥. –µ—Å–ª–∏ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å);
- –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –∏—Ö –≤ `remember { mutableStateOf(...) }`;
- –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º —á–µ—Ä–µ–∑ Compose (Surface/Box/Row/Column/Text/‚Ä¶).

---

## üß© –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤–∏–¥–∂–µ—Ç–∞ –≤ WidgetsOverlay

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω `MyWidget.kt` –∏ –¥–æ–±–∞–≤–ª–µ–Ω —Ç–∏–ø –≤ `WidgetType`,  
–Ω—É–∂–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤ `WidgetsOverlay.kt`:

```kotlin
when (widget.type) {
    WidgetType.WEATHER -> WeatherWidget(widget, alignedModifier)
    WidgetType.MY_WIDGET -> MyWidget(widget, alignedModifier)
}
```

–¢–µ–ø–µ—Ä—å, –µ—Å–ª–∏ VideoPlayerScreen –ø–æ–ª—É—á–∏—Ç `WidgetDescriptor` —Å `type = WidgetType.MY_WIDGET`, –≤–∞—à –≤–∏–¥–∂–µ—Ç –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω. –í VideoPlayerScreen –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä –∫–∞–∫ –º–æ–∂–Ω–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π –≤–∏–¥–∂–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –µ–≥–æ –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

---

## üõ† –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–ø–∏—Å–∞—Ç—å Android‚Äë–º–æ–¥—É–ª—å

–ò–Ω–æ–≥–¥–∞ –≤–∏–¥–∂–µ—Ç—É –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–∞—è —Ç–æ–ª—å–∫–æ –Ω–∞ Android:

- –¥–∞—Ç—á–∏–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä, —è—Ä–∫–æ—Å—Ç—å —ç–∫—Ä–∞–Ω–∞ –∏ —Ç.–ø.);
- —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏;
- —Ä–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏/—Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º –Ω–∞ —É—Ä–æ–≤–Ω–µ Android API;
- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ—Å—Ç—É–ø –∫ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏).

–û–±—â–∏–π –ø–æ–¥—Ö–æ–¥:

- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—É—é —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏ –ø–∏—à–µ–º –≤ **commonMain**.
- –í **androidMain** –≤—ã–Ω–æ—Å–∏–º —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω–∞–ø—Ä—è–º—É—é –∑–∞–≤–∏—Å–∏—Ç –æ—Ç Android SDK.

–ï—Å—Ç—å –¥–≤–∞ —Ç–∏–ø–∏—á–Ω—ã—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞.

### –í–∞—Ä–∏–∞–Ω—Ç 1: expect/actual

–í `commonMain` –æ–±—ä—è–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç:

```kotlin
// commonMain
expect class PlatformService() {
    fun getSomethingPlatformSpecific(): String
}
```

–í `androidMain` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:

```kotlin
// androidMain
actual class PlatformService {
    actual fun getSomethingPlatformSpecific(): String {
        // –∫–æ–¥, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–π Android API
        return "Android result"
    }
}
```

–í–∏–¥–∂–µ—Ç –≤ `commonMain` –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `PlatformService`, –Ω–µ –∑–Ω–∞—è –¥–µ—Ç–∞–ª–µ–π Android‚Äë—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã/–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

–í `commonMain`:

```kotlin
interface MyDataProvider {
    suspend fun loadData(): String
}
```

–í `androidMain` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Android API.  
–ß–µ—Ä–µ–∑ DI (–Ω–∞–ø—Ä–∏–º–µ—Ä, Koin) –≤ `AppActivity` —ç—Ç–æ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ—Ç—Å—è –≤ –æ–±—â–∏–π –∫–æ–¥.


---

## üìù –ß—Ç–æ –¥–µ–ª–∞—Ç—å –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

- –º–µ–Ω—è—Ç—å `AppActivity` –∏ –¥—Ä—É–≥–∏–µ –∫–ª–∞—Å—Å—ã –≤ `androidMain` –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (FileProvider –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞, –¥–æ–ø–æ–ª–Ω—è—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏);
- —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–π fallback –ø–æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ –∏–ª–∏ —Ä–∞–±–æ—Ç—É —Å –≤–Ω–µ—à–Ω–∏–º–∏ API, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —á–∞—Å—Ç—å –∑–∞–¥–∞–Ω–∏—è.

---

## ‚úî –ò—Ç–æ–≥

–ß—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –≤–∏–¥–∂–µ—Ç, –Ω—É–∂–Ω–æ:

- –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ Android Studio –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —ç–º—É–ª—è—Ç–æ—Ä–µ –∏–ª–∏ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ;
- –≤ `commonMain`:
  - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∏–ø –≤ `WidgetType`;
  - —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `MyWidget.kt` –≤ `presentation/components/widgets`;
  - —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Composable, –∫–æ—Ç–æ—Ä—ã–π —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `payload` (–∏–ª–∏ –±–µ—Ä—ë—Ç –ª–æ–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ) –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç UI;
  - –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–∂–µ—Ç –≤ `WidgetsOverlay.kt`;
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏–¥–∂–µ—Ç –ø–æ–≥–æ–¥—ã (`WeatherWidget.kt`) –∫–∞–∫ –ø—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ —Å—Ç–∏–ª—è –∫–æ–¥–∞.

–ü–æ–ª–µ–∑–Ω—ã–π –∫—É—Ä—Å –ø–æ Jetpack Compose: https://www.youtube.com/watch?v=Dsfnb9H66B0&list=PLmjT2NFTgg1cyNFqS2ST6nTDxZH_bYjba
